<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DoodleSpeak - My Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Schoolbell&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
</head>
<body class="bg-light mb-5">
    <!-- Your content here -->

    {% include 'navbar.html' %}
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <a href="javascript:history.back()" class="text-decoration-none text-primary"><i class="fas fa-arrow-left"></i> Back</a>
            <a href="{% url 'account' %}" class="btn btn-primary"><i class="fas fa-cog"></i> Account Settings</a>
        </div>
        <h1 class="mb-4">Hi, {{ dashboard.user.username }}</h1>
        <div class="mb-4">
            <!-- Placeholder for word cloud -->
            <div id="word-cloud" class="bg-light text-center"></div>
        </div>
        <div class="mb-4">
            <h2>Word Bank</h2>
            <div class="d-flex flex-wrap mb-3">
                <div class="me-2 mb-2">
                    <button class="btn btn-outline-dark">
                        Practiced <i class="fas fa-arrow-up"></i>
                    </button>
                </div>
                <div class="me-2 mb-2">
                    <button class="btn btn-outline-dark">
                        Date <i class="fas fa-arrow-down"></i>
                    </button>
                </div>
                <div class="me-2 mb-2">
                    <button class="btn btn-outline-dark">
                        Difficulty <i class="fas fa-arrow-down"></i>
                    </button>
                </div>
                <div class="dropdown me-2 mb-2">
                    <button class="btn btn-dark dropdown-toggle" type="button" id="filterDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        Filter by Category & Difficulty
                    </button>
                    <ul class="dropdown-menu p-3" aria-labelledby="filterDropdown">
                        <li class="mb-2">
                            <strong>Category</strong>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="category1">
                                <label class="form-check-label" for="category1">
                                    Category 1
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="category2">
                                <label class="form-check-label" for="category2">
                                    Category 2
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="category3">
                                <label class="form-check-label" for="category3">
                                    Category 3
                                </label>
                            </div>
                        </li>
                        <li>
                            <strong>Difficulty</strong>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="difficultyEasy">
                                <label class="form-check-label" for="difficultyEasy">
                                    Easy
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="difficultyMedium">
                                <label class="form-check-label" for="difficultyMedium">
                                    Medium
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="difficultyHard">
                                <label class="form-check-label" for="difficultyHard">
                                    Hard
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <!-- Example word bank card -->
                <div class="col-12 col-md-4 mb-3">
                    <div class="card bg-white shadow-sm border-0 rounded-4">
                        <div class="card-body">
                            <p class="card-title fw-bold">Firefighter</p>
                            <span class="badge text-dark fw-normal bg-light">People</span>
                            <p class="card-text mt-2">A person who stops fires and helps people in danger.</p>
                            <p class="card-text"><em class="bg-light">The firefighter saved the cat from the tree.</em></p>
                            <div class="d-flex justify-content-between">
                                <p class="card-text mb-0"><small class="text-muted">2 times</small></p>
                                <p class="card-text mb-0"><small class="text-muted">1 min ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <div class="card bg-white shadow-sm border-0 rounded-4">
                        <div class="card-body">
                            <p class="card-title fw-bold">Firefighter</p>
                            <span class="badge text-dark fw-normal bg-light">People</span>
                            <p class="card-text mt-2">A person who stops fires and helps people in danger.</p>
                            <p class="card-text"><em class="bg-light">The firefighter saved the cat from the tree.</em></p>
                            <div class="d-flex justify-content-between">
                                <p class="card-text mb-0"><small class="text-muted">2 times</small></p>
                                <p class="card-text mb-0"><small class="text-muted">1 min ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <div class="card bg-white shadow-sm border-0 rounded-4">
                        <div class="card-body">
                            <p class="card-title fw-bold">Firefighter</p>
                            <span class="badge text-dark fw-normal bg-light">People</span>
                            <p class="card-text mt-2">A person who stops fires and helps people in danger.</p>
                            <p class="card-text"><em class="bg-light">The firefighter saved the cat from the tree.</em></p>
                            <div class="d-flex justify-content-between">
                                <p class="card-text mb-0"><small class="text-muted">2 times</small></p>
                                <p class="card-text mb-0"><small class="text-muted">1 min ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <div class="card bg-white shadow-sm border-0 rounded-4">
                        <div class="card-body">
                            <p class="card-title fw-bold">Firefighter</p>
                            <span class="badge text-dark fw-normal bg-light">People</span>
                            <p class="card-text mt-2">A person who stops fires and helps people in danger.</p>
                            <p class="card-text"><em class="bg-light">The firefighter saved the cat from the tree.</em></p>
                            <div class="d-flex justify-content-between">
                                <p class="card-text mb-0"><small class="text-muted">2 times</small></p>
                                <p class="card-text mb-0"><small class="text-muted">1 min ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <div class="card bg-white shadow-sm border-0 rounded-4">
                        <div class="card-body">
                            <p class="card-title fw-bold">Firefighter</p>
                            <span class="badge text-dark fw-normal bg-light">People</span>
                            <p class="card-text mt-2">A person who stops fires and helps people in danger.</p>
                            <p class="card-text"><em class="bg-light">The firefighter saved the cat from the tree.</em></p>
                            <div class="d-flex justify-content-between">
                                <p class="card-text mb-0"><small class="text-muted">2 times</small></p>
                                <p class="card-text mb-0"><small class="text-muted">1 min ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <div class="card bg-white shadow-sm border-0 rounded-4">
                        <div class="card-body">
                            <p class="card-title fw-bold">Firefighter</p>
                            <span class="badge text-dark fw-normal bg-light">People</span>
                            <p class="card-text mt-2">A person who stops fires and helps people in danger.</p>
                            <p class="card-text"><em class="bg-light">The firefighter saved the cat from the tree.</em></p>
                            <div class="d-flex justify-content-between">
                                <p class="card-text mb-0"><small class="text-muted">2 times</small></p>
                                <p class="card-text mb-0"><small class="text-muted">1 min ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Repeat word bank card as needed -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/scripts.js' %}"></script>
    <script src="{% static 'js/wordcloud2.js' %}"></script>
    <script>
        // Example word data
        const words = [
            { text: 'Wine Bottle', weight: 50 },
            { text: 'Airplane', weight: 40 },
            { text: 'Cloud', weight: 35 },
            { text: 'Swim', weight: 30 },
            { text: 'Kangaroo', weight: 25 },
            { text: 'Guitar', weight: 10 },
            { text: 'Firefighter', weight: 5 },
            // Add more words as needed
        ];

        // Convert word data to format required by wordcloud2.js
        const wordArray = words.map(word => [word.text, word.weight]);

        // Calculate the maximum weight
        const maxWeight = Math.max(...words.map(word => word.weight));

        // Generate the word cloud with additional options
        WordCloud(document.getElementById('word-cloud'), {
            list: wordArray,
            color: function (word, weight) {
                // Define a color scheme
                const colors = ['#7731D4', '#569454', '#00BCD4', '#E6A019', '#CF2C38', '#6B563F', '#FF5722', '#3F51B5', '#009688', '#8BC34A', '#FF9800', '#9C27B0'];
                return colors[Math.floor(Math.random() * colors.length)];
            },
            minSize: 12, // Minimum font size in pixels
            weightFactor: function (size) {
                // Scale the font size based on the relative weight
                const minFontSize = 12;
                const maxFontSize = 40;
                return (size / maxWeight) * (maxFontSize - minFontSize) + minFontSize;
            },
            gridSize: 4, // Adjust the grid size to fit more words
            fontFamily: 'Poppins, sans-serif', // Set the font family
            rotateRatio: 0, // Avoid words being tilted
            drawOutOfBound: false, // Prevent words from being drawn outside the canvas
            shuffle: true, // Shuffle the words to avoid clustering
            backgroundColor: '#ffffff' // Set the background color
        });
    </script>
</body>
</html>